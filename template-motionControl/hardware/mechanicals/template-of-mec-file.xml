<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE params PUBLIC "-//YARP//DTD robotInterface 1.0//EN" "http://www.icub.org/DTD/robotInterfaceV1.0.dtd">

<params robot="myrobot" build="1">
    <group name="GENERAL">
        <param name="MotioncontrolVersion">  Version of motor control device.  Currently is 3.</param>
        <param name="Joints">           Number of joints manged from this device. Usually is the number of joints controlled by Ethernet board.       </param> 
        <param name="AxisMap">          Map joint number from  user to firmware.                                                             </param>
        <param name="AxisName">         String wich describes name of joint. see http://wiki.icub.org/wiki/ICub_joints for name convention. </param> 
        <param name="AxisType">         It can be "revolute" or "prismatic"                                                                 </param>
        <param name="Encoder">          this value let you to transform debgree in firmware measurament units.                              </param>
        <param name="Gearbox_M2J">      This is the total reduction factor between joint and encoder.                                       </param>
        <param name="Gearbox_E2J">      This is the reduction factor between the joint and the encoder at joint. (Usually it is 1)         </param>
        <param name="useMotorSpeedFbk"> Indicate if the motor controller uses feedback from motors to compute speed. Alllowed values are [0, 1] </param>
        <param name="MotorType">        Motor type. This is only a note, for support guys.                                                     </param>
        <param name="Verbose"> Specifies if enable verbose prints in yarprobotinterface. Alllowed values are [0, 1] </param>
    </group>

    <group name="2FOC"> <!-- this group must be present only if the service of controlled is eomn_serv_MC_foc -->
        <param name="HasHallSensor">         Indicates if hall sensors are connected to 2FOC board            </param>
        <param name="HasTempSensor">         Indicates if temperature ensor  are connected to 2FOC board      </param>
        <param name="HasRotorEncoder">       Indicates if rotor has encoder                                   </param>
        <param name="HasRotorEncoderIndex">  Indicates if the rotor encoder has index                         </param>
        <param name="HasSpeedEncoder">       It is as an alternative to rotorEncoder. It is not used for FOC controller.                        </param>
        <param name="RotorIndexOffset">      Rotor index offset between first electric sector and encoder index [degree]   </param>
        <param name="MotorPoles">            Number of poles of motor      </param>
    </group>


    <group name="COUPLINGS"> 

        <!-- 1.625 = 1/alfa = 65/40 -->                  
        <param name ="matrixJ2M">  <!-- joint to motor decouplig matrix -- >
            1.00    0.00    0.00    0.00
           -1.625   1.625   0.00    0.00
            0.00    0.00    1.625   0.00
            0.00    0.00    0.00    1.00   
        </param>
               
        <!-- 0.615 = alfa = 40/65 --> 
        <param name ="matrixM2J"> <!-- motor to joint couplig matrix -->
            1.000   0.000   0.000   0.000
            1.000   0.615   0.000   0.000
            0.000  -0.615   0.615   0.000
            0.000   0.000   0.000   1.000   
        </param>
       
        <param name ="matrixE2J">  <!-- encoder to joint matrix -->
            1.000   0.000   0.000   0.000   0.000   0.000
            0.000   1.000   0.000   0.000   0.000   0.000
            0.000   0.000   1.000   0.000   0.000   0.000
            0.000   0.000   0.000   1.000   0.000   0.000   
        </param>
                
    </group>   

    <group name="JOINTSET_CFG"> <!-- this group contains configuration of jointset. One joint set contains the coupling joints. at most there may be as many sets as many joints -->
        <param name= "numberofsets"> 2 </param> <!-- total number of sets -->
        <group name="JOINTSET_0">
            <param name="listofjoints"> List of joints beloning to this set        </param>
            <param name="constraint">   Some hawdare configurations need particula constraint. Values of this param are: cerhand, trifig and none                           </param>
            <param name="param1">       Special value related to a specific constraint. It should be e double. If contraint is none, this paran isn't taken into account.   </param>
            <param name="param2">       Special value related to a specific constraint. (Currently not used).                                                               </param>
        </group> 
        <group name="JOINTSET_1">
            <param name="listofjoints">   3             </param>
            <param name="constraint">     none          </param>
            <param name="param1">         0             </param>
            <param name="param2">         0             </param>
        </group> 
    </group>                                       
    
</params>
